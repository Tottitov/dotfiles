#!/bin/sh

notify() { notify-send -h int:value:"$volume" -h string:x-mako-id:volume "Volume ${volume}%"; }

case "$1" in
high) pamixer -i 1 ;;
higher) pamixer -i 5 ;;
low) pamixer -d 1 ;;
lower) pamixer -d 5 ;;
mute) pamixer -t && pkill -RTMIN+5 waybar ;;
esac

volume=$(pamixer --get-volume)
mute=$(pamixer --get-mute)

([ "$mute" = "false" ] && notify) || (makoctl dismiss -g)
